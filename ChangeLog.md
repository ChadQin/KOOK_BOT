# KOOK_BOT v1.2.4.2 版本说明
**发布日期**：2025-05-22
**版本类型**：补丁版本（PATCH）


## 一、版本核心变更
### 1. 新增功能
- **控制台版本信息展示**  
  ✅ 优化控制台启动逻辑，新增开机自显版本号 `v1.2.4.2` 及构建时间戳（如 `Build: 2025-05-22 14:30:00`），便于快速确认运行版本。

### 2. 功能优化
- **歌曲点播错误提示增强**  
  🛠️ 重构播放异常处理逻辑：  
  - 当歌曲因版权限制（如付费、地区限制）无法播放时，自动返回详细错误信息：  
    ```text  
    ❌ 歌曲需要付费，暂无法播放。

## 二、兼容性说明
### 1. 系统支持范围  
| 操作系统          | 版本要求         | 架构支持       | 依赖组件               |  
|-------------------|------------------|----------------|------------------------|  
| Windows           | 10/11（64位）    | x86/x64        | `ffmpeg 5.1+`（需手动安装） |  
| Python 开发环境   | ≥3.9.0           | -              | `khl>=0.3.17`、`pydub>=0.25.1` | 


## 三、升级指南  
### 1. 快速升级（普通用户）  
📥 **下载地址**：  
[Windows 可执行文件](https://github.com/ChadQin/KOOK_BOT/raw/refs/heads/master/kook_bot.exe)  
（文件大小：38.3MB，SHA256校验码：`a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c`）  

🔧 **操作步骤**：  
1. 关闭机器人程序（任务栏右键选择“退出”）；  
2. 将下载的 `kook_bot.exe` 复制到原安装目录（默认路径：`C:\kook_bot\`），覆盖旧文件；  
3. 双击新文件启动程序，控制台将显示 `[INFO] 版本号：v1.2.4.2`。

## 四、贡献者名单
| 贡献者          | 角色描述         |
|-------------------|------------------|
| @ChadQin           | 核心逻辑开发、版本发布    | 
| @Acha   | 算法模块优化（选手猜测功能）&服务器端测试 |
 
## 五、版本规范说明  
### 1. 变更日志符号约定  
| 符号   | 含义                 | 示例                     |  
|--------|----------------------|--------------------------|  
| ✅     | 新增功能             | ✅ 支持自定义指令前缀    |  
| 🛠️     | 功能优化             | 🛠️ 提升数据库查询速度    |  
| 🐛     | Bug 修复              | 🐛 修复消息重复发送问题  |  
| ⚠️     | 破坏性变更           | ⚠️ 移除旧版 API 接口      |


## 六、反馈与支持  
### 1. 问题反馈渠道  
| 渠道类型         | 适用场景                 | 链接/方式                          | 响应时间       |  
|------------------|--------------------------|-----------------------------------|----------------|  
| 🐞 **GitHub Issues** | 功能建议、Bug 报告       | [点击提交](https://github.com/ChadQin/KOOK_BOT/issues) | 工作日 24 小时内 |  
| 💬 **KOOK 官方服务器** | 实时技术交流             | [加入服务器](https://kook.vip/IjKSYi) | 在线时段即时响应 |  
| 📧 **邮箱**       | 敏感问题或私密信息       | qq760533763@outlook.com              | 48 小时内      |  

### 2. 贡献代码指南  
1. **Fork 仓库**：点击 GitHub 页面右上角 "Fork" 按钮；  
2. **创建分支**：基于 `develop` 分支创建新功能分支（如 `feature/new-command`）；  
3. **提交 PR**：完成开发后向 `develop` 分支提交 Pull Request。  

🔍 **代码规范**：  
- 使用 PEP 8 代码风格（建议安装 autopep8 自动格式化）；  
- 新增功能需包含单元测试（测试覆盖率 ≥80%）；  
- 提交前运行 `flake8` 检查代码质量。  

### 3. 常见问题（FAQ）  
#### Q1：机器人无法连接 KOOK 服务器？  
A：检查以下内容：  
1. 网络连接是否正常；  
2. Bot Token 是否正确（可在 [KOOK 开发者后台](https://developer.kookapp.cn) 重置）；  
3. 防火墙是否放行 443 端口。  

### 4. 技术文档与教程  
- 📚 **官方文档**：[KOOK_BOT 文档中心](https://developer.kookapp.cn)  
- 🎬 **视频教程**：[暂无](https://www.bilibili.com/)  
- 📖 **API 参考**：[API 文档](https://khl-py.eu.org/)  
