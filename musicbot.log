2025-05-08 11:28:19.257 [DEBUG] tzlocal: Looking up time zone info from registry
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: play added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: come added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: leave added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: help added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: wiki added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: price added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: sim added
2025-05-08 11:28:19.260 [DEBUG] khl.command.manager: command: hq_helper added
2025-05-08 11:28:19.261 [DEBUG] khl.command.manager: command: act_cafe added
2025-05-08 11:28:19.261 [DEBUG] khl.command.manager: command: act_diemoe added
2025-05-08 11:28:19.261 [DEBUG] khl.command.manager: command: idn added
2025-05-08 11:28:19.261 [DEBUG] khl.command.manager: command: roll added
2025-05-08 11:28:19.263 [INFO] apscheduler.scheduler: Scheduler started
2025-05-08 11:28:19.267 [DEBUG] apscheduler.scheduler: Looking for jobs to run
2025-05-08 11:28:19.267 [DEBUG] apscheduler.scheduler: No jobs; waiting until a job is added
2025-05-08 11:28:19.268 [DEBUG] asyncio: Get address info www.kaiheila.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024>
2025-05-08 11:28:19.276 [DEBUG] asyncio: Getting address info www.kaiheila.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024> took 16.000ms: [(<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('123.56.12.235', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('47.95.203.175', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('39.105.120.149', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('59.110.164.41', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('59.110.157.125', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('101.200.41.217', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('47.93.10.42', 443))]
2025-05-08 11:28:19.311 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649ED18> starts SSL handshake
2025-05-08 11:28:19.381 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649ED18>: SSL handshake took 63.0 ms
2025-05-08 11:28:19.382 [DEBUG] asyncio: <asyncio.TransportSocket fd=1784, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('192.168.100.34', 58841), raddr=('123.56.12.235', 443)> connected to None:None: (<asyncio.sslproto._SSLProtocolTransport object at 0x06769D48>, <aiohttp.client_proto.ResponseHandler object at 0x0675A4A8>)
2025-05-08 11:28:19.488 [DEBUG] asyncio: Get address info nws.kaiheila.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024>
2025-05-08 11:28:19.493 [DEBUG] asyncio: Getting address info nws.kaiheila.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024> took 0.000ms: [(<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('110.52.116.83', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.108', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.101', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.238', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.96.249', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.234', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.96.243', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('110.52.116.82', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.103', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.233', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.96.239', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.96.244', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.239', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('116.162.103.102', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('42.48.120.22', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('42.48.120.16', 443))]
2025-05-08 11:28:19.502 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649EFB8> starts SSL handshake
2025-05-08 11:28:19.511 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649EFB8>: SSL handshake took 15.0 ms
2025-05-08 11:28:19.511 [DEBUG] asyncio: <asyncio.TransportSocket fd=1528, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('192.168.100.34', 58842), raddr=('110.52.116.83', 443)> connected to None:None: (<asyncio.sslproto._SSLProtocolTransport object at 0x067CFE98>, <aiohttp.client_proto.ResponseHandler object at 0x067C1A18>)
2025-05-08 11:28:19.685 [INFO] khl.receiver: [ init ] launched
2025-05-08 11:28:19.686 [DEBUG] khl.receiver: upcoming raw: {'d': {'sessionId': 'fc6308a2-d395-4128-8398-09f51531c32e', 'session_id': 'fc6308a2-d395-4128-8398-09f51531c32e', 'code': 0}, 's': 1}
2025-05-08 11:28:24.185 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': '1fa26277-1d41-4b55-b71c-c94873e3c2b3', 'msg_timestamp': 1746674903555, 'nonce': 'gYWne7ctx8NGK7HrLwYjusCP', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 1}
2025-05-08 11:28:24.186 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': '1fa26277-1d41-4b55-b71c-c94873e3c2b3', 'msg_timestamp': 1746674903555, 'nonce': 'gYWne7ctx8NGK7HrLwYjusCP', 'from_type': 1}
2025-05-08 11:28:24.187 [DEBUG] khl.requester: GET user/me: req: {'params': {}, 'headers': {}}
2025-05-08 11:28:24.187 [DEBUG] khl.ratelimiter: ratelimiter: user/me req bucket: user/me delay:  0.000s
2025-05-08 11:28:24.190 [DEBUG] asyncio: Get address info www.kookapp.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024>
2025-05-08 11:28:24.195 [DEBUG] asyncio: Getting address info www.kookapp.cn:443, type=<SocketKind.SOCK_STREAM: 1>, flags=<AddressInfo.AI_ADDRCONFIG: 1024> took 0.000ms: [(<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('47.94.234.73', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('39.107.108.119', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('47.94.1.67', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('39.106.12.193', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('101.200.56.5', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('47.94.140.165', 443)), (<AddressFamily.AF_INET: 2>, <SocketKind.SOCK_STREAM: 1>, 0, '', ('39.106.10.67', 443))]
2025-05-08 11:28:24.232 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649EE98> starts SSL handshake
2025-05-08 11:28:24.316 [DEBUG] asyncio: <asyncio.sslproto.SSLProtocol object at 0x0649EE98>: SSL handshake took 78.0 ms
2025-05-08 11:28:24.316 [DEBUG] asyncio: <asyncio.TransportSocket fd=1532, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=6, laddr=('192.168.100.34', 58848), raddr=('47.94.234.73', 443)> connected to None:None: (<asyncio.sslproto._SSLProtocolTransport object at 0x067DAD78>, <aiohttp.client_proto.ResponseHandler object at 0x064B49B8>)
2025-05-08 11:28:24.446 [DEBUG] khl.ratelimiter: ratelimiter: user/me rsp ratelimit: bucket: user/me remaining: 239 reset: 0s
2025-05-08 11:28:24.446 [DEBUG] khl.requester: GET user/me: rsp: {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': True, 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'mobile_verified': True, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False, 'mobile_prefix': '86', 'mobile': '****', 'invited_count': 0}
2025-05-08 11:28:24.457 [INFO] khl.command.command: command roll is triggered by msg: /roll
2025-05-08 11:28:24.458 [DEBUG] khl.requester: POST message/create: req: {'json': {'quote': '1fa26277-1d41-4b55-b71c-c94873e3c2b3', 'target_id': '6764972146962199', 'content': '[{"type": "card", "size": "lg", "modules": [{"type": "section", "text": {"type": "kmarkdown", "content": "\\u4f60\\u63b7\\u51fa\\u4e86: **(font)870(font)[pink]**"}, "mode": "left"}]}]', 'type': 10}, 'headers': {}}
2025-05-08 11:28:24.458 [DEBUG] khl.ratelimiter: ratelimiter: message/create req bucket: message/create delay:  0.000s
2025-05-08 11:28:24.805 [DEBUG] khl.ratelimiter: ratelimiter: message/create rsp ratelimit: bucket: message/create remaining: 239 reset: 0s
2025-05-08 11:28:24.805 [DEBUG] khl.requester: POST message/create: rsp: {'msg_id': '78ddf83c-0f6b-48f9-8e95-f6e6fbb2119a', 'msg_timestamp': 1746674904206, 'nonce': '', 'not_permissions_mention': []}
2025-05-08 11:28:24.818 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)870(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24d7ce52170036039401', 'rong_id': '1fa26277-1d41-4b55-b71c-c94873e3c2b3', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674903555, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 870', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 870', 'preview_content_search': '你掷出了: 870', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 870', 'send_msg_device': 0}, 'msg_id': '78ddf83c-0f6b-48f9-8e95-f6e6fbb2119a', 'msg_timestamp': 1746674904206, 'nonce': '', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 2}
2025-05-08 11:28:24.819 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)870(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24d7ce52170036039401', 'rong_id': '1fa26277-1d41-4b55-b71c-c94873e3c2b3', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674903555, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 870', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 870', 'preview_content_search': '你掷出了: 870', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 870', 'send_msg_device': 0}, 'msg_id': '78ddf83c-0f6b-48f9-8e95-f6e6fbb2119a', 'msg_timestamp': 1746674904206, 'nonce': '', 'from_type': 1}
2025-05-08 11:28:29.826 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': 'b2237398-4a37-43aa-bf32-e99f2715afc7', 'msg_timestamp': 1746674909191, 'nonce': 'RCESyzxTc3oVVFBsjCkPLqUc', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 3}
2025-05-08 11:28:29.826 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': 'b2237398-4a37-43aa-bf32-e99f2715afc7', 'msg_timestamp': 1746674909191, 'nonce': 'RCESyzxTc3oVVFBsjCkPLqUc', 'from_type': 1}
2025-05-08 11:28:29.838 [INFO] khl.command.command: command roll is triggered by msg: /roll
2025-05-08 11:28:29.838 [DEBUG] khl.requester: POST message/create: req: {'json': {'quote': 'b2237398-4a37-43aa-bf32-e99f2715afc7', 'target_id': '6764972146962199', 'content': '[{"type": "card", "size": "lg", "modules": [{"type": "section", "text": {"type": "kmarkdown", "content": "\\u4f60\\u63b7\\u51fa\\u4e86: **(font)788(font)[pink]**"}, "mode": "left"}]}]', 'type': 10}, 'headers': {}}
2025-05-08 11:28:29.839 [DEBUG] khl.ratelimiter: ratelimiter: message/create req bucket: message/create delay:  0.000s
2025-05-08 11:28:30.226 [DEBUG] khl.ratelimiter: ratelimiter: message/create rsp ratelimit: bucket: message/create remaining: 239 reset: 0s
2025-05-08 11:28:30.226 [DEBUG] khl.requester: POST message/create: rsp: {'msg_id': '6dddaf9f-b6c3-4eb2-8157-7315f4589cb3', 'msg_timestamp': 1746674909630, 'nonce': '', 'not_permissions_mention': []}
2025-05-08 11:28:30.237 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)788(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24dda03b5a7ffc0ddd7e', 'rong_id': 'b2237398-4a37-43aa-bf32-e99f2715afc7', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674909191, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 788', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 788', 'preview_content_search': '你掷出了: 788', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 788', 'send_msg_device': 0}, 'msg_id': '6dddaf9f-b6c3-4eb2-8157-7315f4589cb3', 'msg_timestamp': 1746674909630, 'nonce': '', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 4}
2025-05-08 11:28:30.238 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)788(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24dda03b5a7ffc0ddd7e', 'rong_id': 'b2237398-4a37-43aa-bf32-e99f2715afc7', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674909191, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 788', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 788', 'preview_content_search': '你掷出了: 788', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 788', 'send_msg_device': 0}, 'msg_id': '6dddaf9f-b6c3-4eb2-8157-7315f4589cb3', 'msg_timestamp': 1746674909630, 'nonce': '', 'from_type': 1}
2025-05-08 11:28:32.254 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': '6ed74ce2-7535-44fa-b2b1-5a46fe55a044', 'msg_timestamp': 1746674911664, 'nonce': 'nh1mcO7qOB8obmaYyZ9CenlL', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 5}
2025-05-08 11:28:32.254 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 9, 'target_id': '6764972146962199', 'author_id': '3735621924', 'content': '/roll', 'extra': {'type': 9, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'is_sys': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'kmarkdown': {'raw_content': '/roll', 'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'spl': []}, 'emoji': [], 'preview_content': '', 'channel_type': 1, 'last_msg_content': '传说中的勇者：/roll', 'send_msg_device': 1}, 'msg_id': '6ed74ce2-7535-44fa-b2b1-5a46fe55a044', 'msg_timestamp': 1746674911664, 'nonce': 'nh1mcO7qOB8obmaYyZ9CenlL', 'from_type': 1}
2025-05-08 11:28:32.265 [INFO] khl.command.command: command roll is triggered by msg: /roll
2025-05-08 11:28:32.265 [DEBUG] khl.requester: POST message/create: req: {'json': {'quote': '6ed74ce2-7535-44fa-b2b1-5a46fe55a044', 'target_id': '6764972146962199', 'content': '[{"type": "card", "size": "lg", "modules": [{"type": "section", "text": {"type": "kmarkdown", "content": "\\u4f60\\u63b7\\u51fa\\u4e86: **(font)777(font)[pink]**"}, "mode": "left"}]}]', 'type': 10}, 'headers': {}}
2025-05-08 11:28:32.266 [DEBUG] khl.ratelimiter: ratelimiter: message/create req bucket: message/create delay:  0.000s
2025-05-08 11:28:32.745 [DEBUG] khl.receiver: upcoming raw: {'s': 0, 'd': {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)777(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24df5d3ae4dc7e0b7d6b', 'rong_id': '6ed74ce2-7535-44fa-b2b1-5a46fe55a044', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674911664, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 777', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 777', 'preview_content_search': '你掷出了: 777', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 777', 'send_msg_device': 0}, 'msg_id': '4c84cd8b-a253-4f99-a6c5-8055d80dcc43', 'msg_timestamp': 1746674912103, 'nonce': '', 'from_type': 1}, 'extra': {'verifyToken': 'RO6KRdSFRCEeeN6i', 'encryptKey': '', 'callbackUrl': '', 'intent': -1}, 'sn': 6}
2025-05-08 11:28:32.746 [DEBUG] khl.client: upcoming pkg: {'channel_type': 'GROUP', 'type': 10, 'target_id': '6764972146962199', 'author_id': '2976913766', 'content': '[{"theme":"primary","color":"","size":"lg","expand":false,"modules":[{"type":"section","mode":"left","accessory":null,"text":{"type":"kmarkdown","content":"你掷出了: **(font)777(font)[pink]**","elements":[]},"elements":[]}],"type":"card"}]', 'extra': {'quote': {'id': '681c24df5d3ae4dc7e0b7d6b', 'rong_id': '6ed74ce2-7535-44fa-b2b1-5a46fe55a044', 'type': 9, 'content': '/roll', 'interact_res': None, 'create_at': 1746674911664, 'author': {'id': '3735621924', 'username': '传说中的勇者', 'identify_num': '2428', 'online': True, 'os': 'Websocket', 'status': 1, 'avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/avatars/2022-11/eRxjayNDnr06j06j.png?x-oss-process=style/icon', 'banner': '', 'nickname': '传说中的勇者', 'roles': [], 'is_vip': False, 'vip_amp': False, 'bot': False, 'nameplate': [], 'decorations_id_map': {'nameplate': 11104, 'background': 10208, 'nameplates': [11104, 11103, 11102]}, 'mobile_verified': True, 'is_sys': False, 'joined_at': 1744959361000, 'active_time': 1746674903822}, 'can_jump': True, 'preview_content': None, 'kmarkdown': {'mention_part': [], 'mention_role_part': [], 'channel_part': [], 'item_part': []}}, 'type': 10, 'code': '', 'guild_id': '6952630197979634', 'guild_type': 0, 'channel_name': 'bot', 'author': {'id': '2976913766', 'username': 'chad_bot', 'identify_num': '3123', 'online': True, 'os': 'Websocket', 'status': 0, 'avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'vip_avatar': 'https://img.kookapp.cn/assets/2025-04/L2LSTnRCP20cd0cc.jpg?x-oss-process=style/icon', 'banner': '', 'nickname': 'chad_bot', 'roles': [48234979, 47751091], 'is_vip': False, 'vip_amp': False, 'bot': True, 'nameplate': [], 'bot_status': 1, 'tag_info': {'color': '#0096FF', 'bg_color': '#0096FF33', 'text': '机器人'}, 'is_sys': False, 'client_id': 'RGplsnA5Gqj0FLH9', 'verified': False}, 'visible_only': '', 'mention': [], 'mention_no_at': [], 'mention_all': False, 'mention_roles': [], 'mention_here': False, 'nav_channels': [], 'emoji': [], 'kmarkdown': {'raw_content': '你掷出了: 777', 'mention_part': [], 'mention_role_part': [], 'channel_part': []}, 'editable': False, 'preview_content': '你掷出了: 777', 'preview_content_search': '你掷出了: 777', 'media_all': [], 'channel_type': 1, 'last_msg_content': 'chad_bot：你掷出了: 777', 'send_msg_device': 0}, 'msg_id': '4c84cd8b-a253-4f99-a6c5-8055d80dcc43', 'msg_timestamp': 1746674912103, 'nonce': '', 'from_type': 1}
2025-05-08 11:28:32.792 [DEBUG] khl.ratelimiter: ratelimiter: message/create rsp ratelimit: bucket: message/create remaining: 239 reset: 0s
2025-05-08 11:28:32.793 [DEBUG] khl.requester: POST message/create: rsp: {'msg_id': '4c84cd8b-a253-4f99-a6c5-8055d80dcc43', 'msg_timestamp': 1746674912103, 'nonce': '', 'not_permissions_mention': []}
2025-05-08 11:28:45.754 [DEBUG] khl.receiver: upcoming raw: {'s': 3}
2025-05-08 11:29:11.755 [DEBUG] khl.receiver: upcoming raw: {'s': 3}
2025-05-08 11:29:37.776 [DEBUG] khl.receiver: upcoming raw: {'s': 3}
